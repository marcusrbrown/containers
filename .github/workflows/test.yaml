name: Automated Testing

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  docker-build:
    runs-on: ubuntu-latest
    # strategy:
    #   matrix:
    #     dockerfile: ['Dockerfile1', 'Dockerfile2'] # Replace with actual Dockerfile names

    steps:
      - name: Checkout code
        uses: actions/checkout@ee0669bd1cc54295c223e0bb666b733df41de1c5 # v2.7.0

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@f211e3e9ded2d9377c8cadc4489a4e38014bc4c9 # v1.7.0

      # - name: Build Docker image
      #   uses: docker/build-push-action@ac9327eae2b366085ac7f6a2d02df8aa8ead720a # v2.10.0
      #   with:
      #     context: .
      #     file: ./path/to/${{ matrix.dockerfile }} # Replace with actual path
      #     push: false

  python-tests:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@ee0669bd1cc54295c223e0bb666b733df41de1c5 # v2.7.0

      - name: Setup
        uses: ./.github/actions/setup

      # - name: Run tests
      #   run: pytest # Replace with your testing command

  linting:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@ee0669bd1cc54295c223e0bb666b733df41de1c5 # v2.7.0

#       - name: Run Hadolint
#         uses: hadolint/hadolint-action@0bc6199b82f7c6bbd2d41b82d523294df01f8b8f # v1.7.0
#         with:
#           dockerfile: ./path/to/Dockerfile # Replace with actual path
#
#       - name: Run yamllint
#         run: yamllint -c .yamllint.yaml ./path/to/*.yaml # Replace with actual path
